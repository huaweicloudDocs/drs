# 常用概念<a name="drs_01_0005"></a>

## VPC网络<a name="zh-cn_topic_0000001102434640_section1346635218138"></a>

基于虚拟私有云（Virtual Private Cloud，简称VPC）网络的数据迁移是指实时迁移场景下，源数据库与目标数据库属于同一个虚拟网络内或者跨可通信虚拟网络内，不需要您额外搭建其他网络服务。

## VPN网络<a name="zh-cn_topic_0000001102434640_section17294712141414"></a>

基于虚拟专用网络（Virtual Private Network，简称VPN）的数据迁移是指实时迁移场景下，源数据库与目标数据库属于同一个可通信的虚拟网络内，并且通过VPN在用户的其他数据中心和云平台之间建立的一条符合行业标准的安全加密通信隧道，可将已有数据中心无缝扩展到云上。

目前华为云VPN只支持IPSec VPN。

## 专线网络<a name="zh-cn_topic_0000001102434640_section79230919174"></a>

专线网络是通过云专线服务将用户侧的数据中心连接至云计算平台Region的虚拟私有云专线连接。您可以利用专线网络建立云与数据中心的专线连接，享受高性能、低延迟、安全专用的数据网络。

## 迁移实例<a name="zh-cn_topic_0000001102434640_section18876113141713"></a>

迁移实例是帮助实现数据迁移的辅助型资源，存在于迁移任务的整个生命周期。数据复制服务可以通过迁移实例连接源数据库，读取源数据，然后将数据复制到目标数据库中。

## 迁移日志<a name="zh-cn_topic_0000001102434640_section19157026141717"></a>

迁移日志是指数据库迁移过程中，数据复制服务为您提供的包含警告、错误和提示等类型的信息。

## 同步实例<a name="zh-cn_topic_0000001102434640_section1814284391714"></a>

同步实例是帮助实现实时同步的辅助型资源，存在于同步任务的整个生命周期。数据复制服务可以通过同步实例连接源数据库，读取源数据，然后将实时同步到目标数据库中。

## 同步日志<a name="zh-cn_topic_0000001102434640_section15021446161713"></a>

同步日志是指数据库同步过程中，数据复制服务为您提供的包含警告、错误和提示等类型的信息。

## 预检查<a name="zh-cn_topic_0000001102434640_section14806541176"></a>

预检查是指在启动迁移任务之前，对可能影响任务成功的因素及条件进行的检查。如果预检查项失败，需要根据具体的修复方法进行修复后，重新进行预检查，直到预检查项全部通过才可启动任务。

## 入云<a name="section159143379455"></a>

DRS要求源数据库或目标数据库中至少有一方为本云数据库实例，入云指目标数据库为本云数据库实例的场景。

## 出云<a name="section2760183914518"></a>

DRS要求源数据库或目标数据库中至少有一方为本云数据库实例，出云指源端数据库为本云数据库实例的场景

## 区域和可用区<a name="zh-cn_topic_0000001102434640_section4361113111815"></a>

我们用区域和可用区来描述数据中心的位置，您可以在特定的区域、可用区创建资源。

-   区域（Region）：从地理位置和网络时延维度划分，同一个Region内共享弹性计算、块存储、对象存储、VPC网络、弹性公网IP、镜像等公共服务。Region分为通用Region和专属Region，通用Region指面向公共租户提供通用云服务的Region；专属Region指只承载同一类业务或只面向特定租户提供业务服务的专用Region。
-   可用区（AZ，Availability Zone）：一个AZ是一个或多个物理数据中心的集合，有独立的风火水电，AZ内逻辑上再将计算、网络、存储等资源划分成多个集群。一个Region中的多个AZ间通过高速光纤相连，以满足用户跨AZ构建高可用性系统的需求。

[图1](#zh-cn_topic_0000001102434640_zh-cn_topic_0171122769_fig1256611121468)阐明了区域和可用区之间的关系。

**图 1**  区域和可用区<a name="zh-cn_topic_0000001102434640_zh-cn_topic_0171122769_fig1256611121468"></a>  
![](figures/区域和可用区.png "区域和可用区")

目前，华为云已在全球多个地域开放云服务，您可以根据需求选择适合自己的区域和可用区。更多信息请参见[华为云全球站点](https://www.huaweicloud.com/global/)。

## 帐户委托<a name="zh-cn_topic_0000001102434640_section13642481187"></a>

系统中部分功能需要使用帐户委托，如定时启动任务。所以数据复制服务支持在创建任务的时候，自动将用户帐户委托给数据复制服务的管理租户，即op\_svc\_rds，便于在执行定期任务的时候，具有对任务实行自动化管理的权限。

不同的Region只支持委托当前Region的权限，不支持跨Region委托。

## 临时帐户<a name="zh-cn_topic_0000001102434640_section172201413191815"></a>

为了确保用户数据库成功迁移到关系型数据库MySQL实例，创建迁移任务时，数据复制服务自动为目标数据库实例创建drsFull和drsIncremental临时帐户，分别用于全量迁移和增量迁移。任务结束后，数据复制服务会自动删除这两个帐户。

>![](public_sys-resources/icon-notice.gif) **须知：** 
>删除、重命名和修改这些帐户的密码和权限，会导致任务出错。

## HA管理<a name="zh-cn_topic_0000001102434640_section83141419171820"></a>

针对主机故障，系统会自动将迁移实例或者同步实例切换到备机继续进行任务，以提高任务的成功率。

对于如下状态的迁移任务，在迁移实例或者同步实例发生故障无法正常完成任务的情况下，系统会自动执行重启迁移实例或者同步实例的操作，然后下发重试任务的命令，此时任务状态会变为故障恢复。如果重启后，迁移实例或者同步实例还处于故障无法正常完成任务时，则系统需要重新创建迁移实例或者同步实例，创建完成后自动重试任务。

-   全量迁移
-   增量迁移
-   全量同步
-   增量同步

