# 权限管理<a name="drs_01_0201"></a>

如果您需要对华为云上购买的数据复制服务（Data Replication Service）资源，给企业中的员工设置不同的访问权限，以达到不同员工之间的权限隔离，您可以使用统一身份认证服务（Identity and Access Management，简称IAM）进行精细的权限管理。该服务提供用户身份认证、权限分配、访问控制等功能，可以帮助您安全的控制华为云资源的访问。

通过IAM，您可以在华为云帐号中给员工创建IAM用户，并使用策略来控制他们对华为云资源的访问范围。例如您的员工中有负责软件开发的人员，您希望他们拥有数据复制服务（Data Replication Service）的使用权限，但是不希望他们拥有删除数据复制服务资源等高危操作的权限，那么您可以使用IAM为开发人员创建用户，通过授予仅能使用数据复制服务资源，但是不允许删除数据复制服务资源的权限策略，控制他们对数据复制服务资源的使用范围。

如果华为云帐号已经能满足您的要求，不需要创建独立的IAM用户进行权限管理，您可以跳过本章节，不影响您使用数据复制服务的其它功能。

IAM是华为云提供权限管理的基础服务，无需付费即可使用，您只需要为您帐号中的资源进行付费。关于IAM的详细介绍，请参见[《IAM产品介绍》](https://support.huaweicloud.com/productdesc-iam/iam_01_0026.html)。

## DRS系统策略<a name="section1212203179"></a>

策略是以JSON格式描述权限集的语言。默认情况下，新建的IAM用户没有任何权限，您需要将其加入用户组，并给用户组授予策略，才能使得用户组中的用户获得策略定义的权限，这一过程称为授权。授权后，用户就可以基于策略对云服务进行操作。IAM系统预置了各服务的常用权限，例如管理员权限、只读权限，您可以直接使用这些系统策略。

DRS部署时通过物理区域划分，为项目级服务，需要在各区域（如华北-北京1）对应的项目（cn-north-1）中设置策略，并且该策略仅对此项目生效，如果需要所有区域都生效，则需要在所有项目都设置策略。访问DRS时，需要先切换至授权区域。

策略根据授权精度分为细粒度策略和Role-Based Access Control（RBAC）策略。目前DRS仅支持RBAC策略。RBAC策略是将服务作为一个整体进行授权，授权后，用户可以拥有这个服务的所有权限，如访问整个服务、管理整个服务，RBAC策略无法针对服务中的具体操作做权限控制。

如[表1](#table122641315719)所示，包括了DRS的所有系统策略。其中“依赖关系”表示该系统策略对其它策略的依赖。由于华为云各服务之间存在业务交互关系，数据复制服务的策略依赖其他服务的策略实现功能。因此给用户授予数据复制服务的权限时，需要同时授予依赖的权限，数据复制服务的权限才能生效。

**表 1**  DRS系统策略

<a name="table122641315719"></a>
<table><thead align="left"><tr id="row349393677"><th class="cellrowborder" valign="top" width="17.348265173482652%" id="mcps1.2.4.1.1"><p id="p74931320712"><a name="p74931320712"></a><a name="p74931320712"></a><strong id="b2082185815160"><a name="b2082185815160"></a><a name="b2082185815160"></a>策略名称</strong></p>
</th>
<th class="cellrowborder" valign="top" width="44.89551044895511%" id="mcps1.2.4.1.2"><p id="p16493133576"><a name="p16493133576"></a><a name="p16493133576"></a><strong id="b13834589163"><a name="b13834589163"></a><a name="b13834589163"></a>描述</strong></p>
</th>
<th class="cellrowborder" valign="top" width="37.75622437756224%" id="mcps1.2.4.1.3"><p id="p124931837719"><a name="p124931837719"></a><a name="p124931837719"></a><strong id="b128475816167"><a name="b128475816167"></a><a name="b128475816167"></a>依赖关系</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row249317311710"><td class="cellrowborder" valign="top" width="17.348265173482652%" headers="mcps1.2.4.1.1 "><p id="p0493232712"><a name="p0493232712"></a><a name="p0493232712"></a>DRS Administrator</p>
</td>
<td class="cellrowborder" valign="top" width="44.89551044895511%" headers="mcps1.2.4.1.2 "><p id="p7493139719"><a name="p7493139719"></a><a name="p7493139719"></a>数据复制服务的管理员。</p>
<p id="p6263201117419"><a name="p6263201117419"></a><a name="p6263201117419"></a>该权限为使用数据复制服务时必须添加的基础权限。</p>
</td>
<td class="cellrowborder" valign="top" width="37.75622437756224%" headers="mcps1.2.4.1.3 "><p id="p24932317711"><a name="p24932317711"></a><a name="p24932317711"></a>依赖Tenant Guest、Server Administrator和RDS Administrator策略。</p>
<a name="ul94931431476"></a><a name="ul94931431476"></a><ul id="ul94931431476"><li>Tenant Guest：全部云服务只读权限，属于项目级策略，在同项目中勾选。</li><li>Server Administrator：服务器管理员，属于项目级策略，在同项目中勾选。</li><li>RDS Administrator：RDS管理员，属于项目级策略，在同项目中勾选。</li></ul>
</td>
</tr>
<tr id="row0476823182220"><td class="cellrowborder" valign="top" width="17.348265173482652%" headers="mcps1.2.4.1.1 "><p id="p918616298220"><a name="p918616298220"></a><a name="p918616298220"></a>Security Administrator</p>
</td>
<td class="cellrowborder" valign="top" width="44.89551044895511%" headers="mcps1.2.4.1.2 "><p id="p6976894556"><a name="p6976894556"></a><a name="p6976894556"></a>安全管理员。</p>
<p id="p1186152918226"><a name="p1186152918226"></a><a name="p1186152918226"></a>为了提高数据复制服务的使用性能，您需要在正式使用数据复制服务之前，在统一身份认证服务用户组管理中添加Security Administrator全局权限，避免由于权限问题造成某些功能不可用。如定时启动任务、全量完成自动结束、自动重试失败任务等。</p>
</td>
<td class="cellrowborder" valign="top" width="37.75622437756224%" headers="mcps1.2.4.1.3 "><p id="p131861029112217"><a name="p131861029112217"></a><a name="p131861029112217"></a>无。</p>
</td>
</tr>
</tbody>
</table>

[表2](#table02746313716)列出了数据复制服务常用操作与系统策略的授权关系，您可以参照该表选择合适的系统策略。

**表 2**  常用操作与系统策略的关系

<a name="table02746313716"></a>
<table><thead align="left"><tr id="row7494033715"><th class="cellrowborder" valign="top" width="44.61%" id="mcps1.2.3.1.1"><p id="p194941731875"><a name="p194941731875"></a><a name="p194941731875"></a><strong id="b11347727154019"><a name="b11347727154019"></a><a name="b11347727154019"></a>操作</strong></p>
</th>
<th class="cellrowborder" valign="top" width="55.38999999999999%" id="mcps1.2.3.1.2"><p id="p1079015231400"><a name="p1079015231400"></a><a name="p1079015231400"></a><strong id="b5350192716407"><a name="b5350192716407"></a><a name="b5350192716407"></a>DRS Administrator</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row04951331575"><td class="cellrowborder" valign="top" width="44.61%" headers="mcps1.2.3.1.1 "><p id="p68681656165613"><a name="p68681656165613"></a><a name="p68681656165613"></a>创建任务</p>
</td>
<td class="cellrowborder" valign="top" width="55.38999999999999%" headers="mcps1.2.3.1.2 "><p id="p7495934716"><a name="p7495934716"></a><a name="p7495934716"></a>√</p>
</td>
</tr>
<tr id="row149523677"><td class="cellrowborder" valign="top" width="44.61%" headers="mcps1.2.3.1.1 "><p id="p486825610562"><a name="p486825610562"></a><a name="p486825610562"></a>编辑任务</p>
</td>
<td class="cellrowborder" valign="top" width="55.38999999999999%" headers="mcps1.2.3.1.2 "><p id="p18495838712"><a name="p18495838712"></a><a name="p18495838712"></a>√</p>
</td>
</tr>
<tr id="row149553470"><td class="cellrowborder" valign="top" width="44.61%" headers="mcps1.2.3.1.1 "><p id="p4884105695615"><a name="p4884105695615"></a><a name="p4884105695615"></a>删除任务</p>
</td>
<td class="cellrowborder" valign="top" width="55.38999999999999%" headers="mcps1.2.3.1.2 "><p id="p94955314717"><a name="p94955314717"></a><a name="p94955314717"></a>√</p>
</td>
</tr>
<tr id="row13496831274"><td class="cellrowborder" valign="top" width="44.61%" headers="mcps1.2.3.1.1 "><p id="p2395183115713"><a name="p2395183115713"></a><a name="p2395183115713"></a>启动任务</p>
</td>
<td class="cellrowborder" valign="top" width="55.38999999999999%" headers="mcps1.2.3.1.2 "><p id="p449623072"><a name="p449623072"></a><a name="p449623072"></a>√</p>
</td>
</tr>
<tr id="row94961234713"><td class="cellrowborder" valign="top" width="44.61%" headers="mcps1.2.3.1.1 "><p id="p7395737576"><a name="p7395737576"></a><a name="p7395737576"></a>重试任务</p>
</td>
<td class="cellrowborder" valign="top" width="55.38999999999999%" headers="mcps1.2.3.1.2 "><p id="p18496932714"><a name="p18496932714"></a><a name="p18496932714"></a>√</p>
</td>
</tr>
<tr id="row1883765561511"><td class="cellrowborder" valign="top" width="44.61%" headers="mcps1.2.3.1.1 "><p id="p1183835541514"><a name="p1183835541514"></a><a name="p1183835541514"></a>结束任务</p>
</td>
<td class="cellrowborder" valign="top" width="55.38999999999999%" headers="mcps1.2.3.1.2 "><p id="p283885531513"><a name="p283885531513"></a><a name="p283885531513"></a>√</p>
</td>
</tr>
</tbody>
</table>

## 相关链接<a name="section11295123373"></a>

-   [IAM产品介绍](https://support.huaweicloud.com/productdesc-iam/iam_01_0026.html)
-   [创建用户组、用户并授予DRS权限](https://support.huaweicloud.com/usermanual-drs/drs_08_0012.html)
-   [策略语法](https://support.huaweicloud.com/usermanual-drs/drs_08_0013.html)

