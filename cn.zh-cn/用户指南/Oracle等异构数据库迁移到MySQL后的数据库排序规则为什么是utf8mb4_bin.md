# Oracle等异构数据库迁移到MySQL后的数据库排序规则为什么是utf8mb4\_bin<a name="drs_04_0024"></a>

由于不同的数据库支持的字符集有差异，Oracle等数据库迁移到MySQL后，会转换成支持字符相对全面的UTF8MB4字符集。此字符集对应的默认排序字符集为utf8\_general\_ci，是大小写不敏感的，即认为"abc"和"ABC"是相同数据。为了避免Oracle等大小写敏感的数据库到MySQL迁移失败（主键冲突等），或者迁移后对业务有影响（查询结果和Oracle有区别），请参考以下建议。

1.    使用DRS做目标端为Mysql的异构迁移/同步时，DRS自动将数据库（仅涉及迁移的库）字符集排序为utf8mb4\_bin默认字符集，可以后续确保同库内新增表、列与迁移表、列的排序规格一致，从而避免因表、列的排序规则不一致时进行关联查询，执行计划中因索引数据排序不同而无法利用索引的情况。

2.    可在实例级设置参数collation\_server = utf8mb4\_bin，该设定可以确保全实例默认字符集（有别于建议1，建议1是仅迁移的库，这里是全局）一致，均为utf8mb4\_bin，需要用户根据业务情况决策是否应用于全实例。

