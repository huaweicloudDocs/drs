# 数据复制服务是否支持关系型数据库的HA实例迁移<a name="drs_01_0105"></a>

数据复制服务的高可用性保障机制，可以支持关系型数据库的单实例和HA实例的迁移。针对HA实例的迁移，DRS的自动重连技术在连接短暂中断后连接可以得到修复，断点续传技术，根据数据库内部连续性标志可以确保实时同步的连续性和一致性。

源数据库的HA设计，满足浮动IP连接效果，且倒换时RPO=0，则DRS完全支持数据库的HA实例迁移，无需人工介入。

源数据库的HA设计，不能满足浮动IP连接且倒换时RPO=0时，存在以下几种情况：

-   使用浮动IP，但不能保证倒换时RPO=0时，可以连接，但DRS会识别出数据断层（如果有主备倒换出现数据丢失的话）并提示任务失败，此时只能根据新的数据情况，使用重置功能重新迁移。
-   使用固定IP，且倒换时RPO=0时，支持迁移（只有在实例正常运行的情况下支持迁移，否则不支持）。
-   使用固定IP，且不能保证切换时RPO=0时， 可以连接，但DRS会识别出数据断层并提示任务失败，此时只能根据新的数据情况，使用重置功能重新迁移。

出云迁移且目标端数据库为HA实例时，DRS可以保证源的数据完整的迁移到目标数据库，但由于目标数据库本身的倒换不能保证RPO=0，则目标数据库可能会出现数据断层的情况。

