# MySQL数据库<a name="drs_01_0018"></a>

介绍MySQL数据库在线迁移的使用限制。在正式使用数据复制服务之前，请先阅读以确保源数据库和目标数据库已经满足以下使用条件。

数据复制服务对于MySQL数据库的迁移有如下限制：

-   支持如下版本：
    -   MySQL 5.5.x
    -   MySQL 5.6.x
    -   MySQL 5.7.x

-   MySQL源数据库的Binlog日志必须打开。
-   源数据库的Binlog日志格式必须是Row格式。
-   在磁盘空间允许的情况下，建议源数据库Binlog保存时间越长越好，建议为7天。
-   源数据库下的多个数据库只能一次迁移到相同的目标数据库，不支持分批迁移。如果需要分批迁移，请提前规划多个目标数据库实例， 通过建立多个迁移任务实现分批迁移。
-   目标数据库实例的运行状态必须正常，若关系型数据库实例是主备实例，复制状态也必须正常。
-   迁移过程中，不允许添加、修改或删除源数据库所有用户的用户名、密码、权限和源数据库端口号。
-   增量迁移场景下，不支持源数据库进行恢复操作。
-   在增量迁移阶段，为了保持数据一致性，不允许对正在迁移中的目标数据库进行修改操作\(包括但不限于DDL、DML操作\)。
-   源数据库中的表名不能包含-'特殊字符以及中文。
-   源数据库中的库名不能包含@'\#$,\}^特殊字符以及中文。
-   增量迁移时，必须设置MySQL源数据库的server－id。如果源数据库版本为MySQL5.6，server－id的取值范围在2－4294967296之间；如果源数据库版本为MySQL5.5和MySQL5.7，server－id的取值范围在1－4294967296之间。
-   MySQL源数据库建议开启skip-name-resolve，减少连接超时的可能性。
-   源数据库GTID状态建议为开启状态。
-   仅支持从低版本迁移到高版本。
-   目标数据库实例必须有足够的磁盘空间。
-   除了MySQL系统数据库之外，目标数据库不能包含与源数据库同名的数据库。
-   目标数据库的字符集必须与源数据库一致。
-   建议目标数据库的时区设置与源数据库一致。
-   当为全量迁移时，源数据库帐户需要具备如下权限：SELECT、SHOW VIEW、EVENT。
-   当为全量+增量迁移时，源数据库帐户需要具备如下权限：SELECT、SHOW VIEW、EVENT、LOCK TABLES、REPLICATION SLAVE、REPLICATION CLIENT。
-   提供的目标数据库帐号必须拥有如下权限：SELECT。
-   由于MySQL本身限制，若源库的一次性EVENT设定的触发时间在迁移开始前，该EVENT不会迁移到目标库。

