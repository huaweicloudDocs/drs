# 如何判断数据迁移任务可以停止<a name="drs_01_0104"></a>

通常，在业务割接完成后，为了防止源数据库的操作继续同步到目标数据库，造成数据覆盖问题，您可选择结束迁移任务。结束之前您需要确认完成以下几点：

1.  请您确认至少在业务低峰期有过一次完整的数据对比。
2.  完成业务割接。
    1.  先中断业务（如果业务负载非常轻，也可以尝试不中断业务）。
    2.  在源数据库端执行如下语句（此处以MySQL为例，其余引擎可以参考《数据复制服务最佳实践》），并观察在1-5分钟内若无任何新会话执行SQL ，则可认为业务已经完全停止。

        ```
        show processlist
        ```

        >![](public_sys-resources/icon-note.gif) **说明：** 
        >上述语句查询到的进程列表中，包括DRS迁移实例的连接，您需要确认除DRS迁移实例的连接外无任何新会话执行SQL，即可认为业务已经完全停止。

    3.  实时同步时延为0，并稳定保持一段时间；同时，您可以使用数据级对比功能，进行割接前的最后一次数据级对比，耗时可参考之前的对比记录。
        -   如果时间允许，则选择全部对比。
        -   如果时间不允许，则推荐对比活跃表，关键业务表，第二步对比多次存在差异的表等。

    4.  确定系统割接时机，业务系统指向目标数据库，业务对外恢复使用。

3.  结束迁移任务，该操作仅删除了迁移实例，迁移任务仍显示在任务列表中，您可以进行查看或删除。

