# Microsoft SQL Server<a name="drs_01_0019"></a>

介绍Microsoft SQL Server数据库备份迁移的使用限制。在正式使用数据复制服务之前，请先阅读以确保备份文件和待还原数据库已经满足以下使用条件。

## 操作限制<a name="section20512928164656"></a>

-   OBS桶所在区域必须跟实例所在区域相同。
-   待还原数据库实际大小总和，低于还原目标实例可用空间大小的85%。
-   待还原数据库名称，必须跟备份文件中数据库名称一致（区分大小写）。
-   迁移过程中，实例显示处于迁移状态，当前正在迁移的目标数据库默认取消高可用状态（如果是覆盖还原），迁移完成后自动恢复高可用状态。
-   迁移过程中正在还原的数据库请停止写入事务。
-   仅支持低版本的数据库备份文件在高版本实例数据库上进行还原。

## 待还原数据库名称限制<a name="section47884504165019"></a>

-   待还原数据库名不能重复，且不能为以下名称（区分大小写）：
    -   msdb
    -   master
    -   model
    -   tempdb
    -   rdsadmin
    -   resource

-   待还原的数据库名称长度为：1-128个字符长度。
-   待还原数据库名称组成为：字母，数字，下划线，中划线。
-   待还原数据库名称必须以字母开头。

## 本地备份文件限制<a name="section3137593416545"></a>

-   备份文件上传OBS的后缀名必须为“.bak“，否则在OBS备份文件列表中无法选中非“.bak”后缀的文件。
-   备份文件名称长度为：1-128个字符长度。
-   备份文件名称组成为：字母，数字，下划线，中划线。
-   备份文件名称必须以字母开头。
-   备份文件的大小低于还原目标实例申请空间总大小的85%。
-   备份文件可支持全量备份文件和日志备份文件。

## 数据库备份文件的来源<a name="section241425974414"></a>

-   OBS自建桶：上传至OBS自建桶下的备份文件。
-   RDS全量备份：关系型数据库实例自动或手动生成的全量备份。

